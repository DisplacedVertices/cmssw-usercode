import sys
from array import array

def find_binning(fn):
    from JMTucker.Tools.ROOTTools import ROOT, get_integral

    f = ROOT.TFile(fn)
    h = f.Get('mfvOverlayHistos/h_dvv_true')

    n = h.GetNbinsX()
    target = 1000
    last = 4.
    ilast = lo = up = h.FindBin(last)-1
    ibins = []

    while lo > 0:
        i = 0.
        while 1:
            i = h.Integral(lo, up)
            #print lo, up, i
            if i >= target:
                break
            lo -= 1
            if lo <= 1:
                break
        #print 'new edge', lo
        ibins.append(lo)
        lo = up = lo-1

    ibins.reverse()
    bins = [h.GetBinLowEdge(ibin) for ibin in ibins] + [last]
    ibins.append(ilast)

    print '        bins = [',
    for x in bins:
        print '%0.4f,' % x,
    print ']'

    avgs = []
    for ia,ib in zip(ibins, ibins[1:]):
        avg, sw = 0., 0.
        for ibin in xrange(ia, ib):
            w = h.GetBinContent(ibin)
            sw += w
            avg += w * h.GetBinCenter(ibin) 
        if sw > 0:
            avgs.append(avg / sw)
        else:
            avgs.append(h.GetBinCenter(ia))

    print '        avgs = [',
    for x in avgs:
        print '%0.4f,' % x,
    print ']'
        
def binning(out_name):
    if 'ntk3' in out_name:
        bins = [ 0.0000, 0.0020, 0.0040, 0.0050, 0.0060, 0.0070, 0.0080, 0.0090, 0.0110, 0.0130, 0.0150, 0.0160, 0.0170, 0.0180, 0.0190, 0.0200, 0.0220, 0.0240, 0.0250, 0.0260, 0.0270, 0.0280, 0.0290, 0.0300, 0.0310, 0.0320, 0.0330, 0.0340, 0.0350, 0.0360, 0.0380, 0.0400, 0.0410, 0.0420, 0.0430, 0.0440, 0.0450, 0.0460, 0.0480, 0.0500, 0.0510, 0.0520, 0.0530, 0.0540, 0.0560, 0.0580, 0.0600, 0.0610, 0.0620, 0.0630, 0.0640, 0.0660, 0.0680, 0.0700, 0.0710, 0.0720, 0.0730, 0.0740, 0.0760, 0.0780, 0.0800, 0.0810, 0.0820, 0.0830, 0.0840, 0.0860, 0.0880, 0.0900, 0.0910, 0.0920, 0.0930, 0.0940, 0.0960, 0.0980, 0.1000, 0.1010, 0.1020, 0.1030, 0.1040, 0.1050, 0.1060, 0.1080, 0.1100, 0.1110, 0.1120, 0.1130, 0.1140, 0.1160, 0.1180, 0.1200, 0.1210, 0.1220, 0.1230, 0.1240, 0.1260, 0.1280, 0.1300, 0.1310, 0.1320, 0.1330, 0.1340, 0.1360, 0.1380, 0.1400, 0.1410, 0.1420, 0.1430, 0.1440, 0.1460, 0.1480, 0.1500, 0.1510, 0.1520, 0.1530, 0.1540, 0.1560, 0.1580, 0.1600, 0.1610, 0.1620, 0.1640, 0.1660, 0.1680, 0.1700, 0.1710, 0.1720, 0.1730, 0.1740, 0.1750, 0.1760, 0.1780, 0.1800, 0.1810, 0.1820, 0.1830, 0.1840, 0.1860, 0.1880, 0.1900, 0.1910, 0.1920, 0.1930, 0.1940, 0.1960, 0.1980, 0.2000, 0.2010, 0.2020, 0.2030, 0.2050, 0.2060, 0.2080, 0.2100, 0.2110, 0.2120, 0.2130, 0.2150, 0.2160, 0.2180, 0.2200, 0.2210, 0.2220, 0.2230, 0.2240, 0.2260, 0.2280, 0.2300, 0.2310, 0.2320, 0.2330, 0.2340, 0.2360, 0.2380, 0.2400, 0.2410, 0.2420, 0.2430, 0.2440, 0.2450, 0.2460, 0.2480, 0.2500, 0.2510, 0.2520, 0.2530, 0.2540, 0.2560, 0.2580, 0.2600, 0.2610, 0.2620, 0.2630, 0.2640, 0.2660, 0.2680, 0.2700, 0.2720, 0.2730, 0.2740, 0.2760, 0.2780, 0.2800, 0.2810, 0.2820, 0.2830, 0.2840, 0.2850, 0.2870, 0.2890, 0.2910, 0.2930, 0.2950, 0.2960, 0.2970, 0.2980, 0.3000, 0.3010, 0.3020, 0.3040, 0.3050, 0.3060, 0.3080, 0.3100, 0.3120, 0.3140, 0.3160, 0.3170, 0.3190, 0.3200, 0.3210, 0.3220, 0.3240, 0.3260, 0.3280, 0.3300, 0.3310, 0.3320, 0.3330, 0.3340, 0.3360, 0.3380, 0.3400, 0.3420, 0.3440, 0.3460, 0.3480, 0.3490, 0.3500, 0.3510, 0.3530, 0.3540, 0.3550, 0.3560, 0.3570, 0.3580, 0.3600, 0.3610, 0.3630, 0.3640, 0.3660, 0.3680, 0.3700, 0.3710, 0.3720, 0.3730, 0.3750, 0.3760, 0.3780, 0.3800, 0.3820, 0.3830, 0.3850, 0.3870, 0.3890, 0.3910, 0.3930, 0.3940, 0.3960, 0.3970, 0.3980, 0.4000, 0.4020, 0.4040, 0.4050, 0.4060, 0.4080, 0.4100, 0.4120, 0.4140, 0.4150, 0.4160, 0.4170, 0.4180, 0.4190, 0.4200, 0.4210, 0.4220, 0.4230, 0.4240, 0.4260, 0.4280, 0.4300, 0.4310, 0.4320, 0.4330, 0.4340, 0.4360, 0.4380, 0.4400, 0.4410, 0.4420, 0.4430, 0.4450, 0.4460, 0.4480, 0.4500, 0.4510, 0.4520, 0.4530, 0.4540, 0.4560, 0.4580, 0.4600, 0.4620, 0.4640, 0.4660, 0.4670, 0.4680, 0.4690, 0.4700, 0.4710, 0.4720, 0.4730, 0.4740, 0.4760, 0.4780, 0.4800, 0.4810, 0.4830, 0.4850, 0.4870, 0.4880, 0.4890, 0.4910, 0.4930, 0.4940, 0.4950, 0.4960, 0.4970, 0.4990, 0.5010, 0.5020, 0.5040, 0.5060, 0.5080, 0.5090, 0.5100, 0.5120, 0.5140, 0.5150, 0.5160, 0.5170, 0.5180, 0.5190, 0.5200, 0.5220, 0.5240, 0.5250, 0.5260, 0.5280, 0.5300, 0.5320, 0.5340, 0.5360, 0.5370, 0.5380, 0.5390, 0.5410, 0.5430, 0.5450, 0.5460, 0.5470, 0.5480, 0.5490, 0.5510, 0.5530, 0.5550, 0.5560, 0.5570, 0.5580, 0.5590, 0.5600, 0.5610, 0.5620, 0.5630, 0.5640, 0.5660, 0.5680, 0.5700, 0.5720, 0.5740, 0.5760, 0.5770, 0.5780, 0.5790, 0.5800, 0.5810, 0.5820, 0.5830, 0.5840, 0.5860, 0.5880, 0.5900, 0.5910, 0.5920, 0.5930, 0.5940, 0.5960, 0.5980, 0.6000, 0.6010, 0.6020, 0.6030, 0.6040, 0.6050, 0.6060, 0.6080, 0.6100, 0.6110, 0.6120, 0.6130, 0.6140, 0.6150, 0.6160, 0.6180, 0.6200, 0.6210, 0.6220, 0.6230, 0.6240, 0.6260, 0.6280, 0.6300, 0.6320, 0.6340, 0.6360, 0.6370, 0.6380, 0.6390, 0.6400, 0.6410, 0.6420, 0.6430, 0.6440, 0.6460, 0.6480, 0.6500, 0.6520, 0.6540, 0.6560, 0.6570, 0.6580, 0.6590, 0.6600, 0.6620, 0.6630, 0.6640, 0.6660, 0.6670, 0.6690, 0.6700, 0.6710, 0.6720, 0.6740, 0.6760, 0.6780, 0.6800, 0.6810, 0.6830, 0.6850, 0.6870, 0.6880, 0.6890, 0.6900, 0.6910, 0.6920, 0.6930, 0.6940, 0.6960, 0.6980, 0.7000, 0.7010, 0.7020, 0.7030, 0.7040, 0.7050, 0.7070, 0.7090, 0.7110, 0.7140, 0.7170, 0.7210, 0.7260, 0.7320, 0.7390, 0.7490, 0.7580, 0.7660, 0.7720, 0.7770, 0.7810, 0.7840, 0.7870, 0.7890, 0.7910, 0.7930, 0.7950, 0.7970, 0.7980, 0.7990, 0.8000, 0.8020, 0.8040, 0.8060, 0.8070, 0.8080, 0.8090, 0.8100, 0.8120, 0.8140, 0.8150, 0.8160, 0.8170, 0.8180, 0.8190, 0.8200, 0.8210, 0.8220, 0.8240, 0.8260, 0.8280, 0.8290, 0.8300, 0.8320, 0.8330, 0.8340, 0.8350, 0.8360, 0.8370, 0.8380, 0.8390, 0.8400, 0.8410, 0.8420, 0.8430, 0.8450, 0.8470, 0.8480, 0.8500, 0.8510, 0.8520, 0.8540, 0.8550, 0.8560, 0.8580, 0.8600, 0.8610, 0.8620, 0.8630, 0.8650, 0.8670, 0.8690, 0.8700, 0.8710, 0.8720, 0.8730, 0.8740, 0.8760, 0.8780, 0.8800, 0.8810, 0.8820, 0.8830, 0.8850, 0.8870, 0.8890, 0.8910, 0.8930, 0.8950, 0.8980, 0.9010, 0.9040, 0.9080, 0.9120, 0.9160, 0.9200, 0.9230, 0.9260, 0.9290, 0.9310, 0.9330, 0.9350, 0.9370, 0.9380, 0.9390, 0.9410, 0.9430, 0.9450, 0.9460, 0.9470, 0.9480, 0.9490, 0.9500, 0.9510, 0.9530, 0.9540, 0.9560, 0.9580, 0.9600, 0.9620, 0.9640, 0.9660, 0.9670, 0.9680, 0.9690, 0.9700, 0.9710, 0.9720, 0.9730, 0.9740, 0.9760, 0.9780, 0.9800, 0.9810, 0.9820, 0.9840, 0.9860, 0.9880, 0.9900, 0.9930, 0.9960, 1.0000, 1.0040, 1.0080, 1.0120, 1.0160, 1.0190, 1.0220, 1.0240, 1.0260, 1.0280, 1.0300, 1.0320, 1.0340, 1.0360, 1.0370, 1.0380, 1.0390, 1.0400, 1.0410, 1.0420, 1.0430, 1.0450, 1.0470, 1.0490, 1.0510, 1.0530, 1.0550, 1.0560, 1.0570, 1.0580, 1.0590, 1.0610, 1.0620, 1.0630, 1.0640, 1.0650, 1.0660, 1.0680, 1.0700, 1.0710, 1.0720, 1.0730, 1.0740, 1.0750, 1.0770, 1.0790, 1.0810, 1.0840, 1.0870, 1.0910, 1.0960, 1.1030, 1.1120, 1.1210, 1.1280, 1.1340, 1.1380, 1.1410, 1.1440, 1.1460, 1.1480, 1.1500, 1.1520, 1.1540, 1.1560, 1.1570, 1.1580, 1.1590, 1.1610, 1.1620, 1.1630, 1.1640, 1.1650, 1.1660, 1.1680, 1.1700, 1.1720, 1.1730, 1.1750, 1.1770, 1.1780, 1.1790, 1.1810, 1.1830, 1.1840, 1.1850, 1.1860, 1.1870, 1.1880, 1.1900, 1.1910, 1.1920, 1.1930, 1.1940, 1.1960, 1.1980, 1.2000, 1.2010, 1.2030, 1.2050, 1.2070, 1.2090, 1.2110, 1.2130, 1.2150, 1.2160, 1.2170, 1.2180, 1.2190, 1.2210, 1.2230, 1.2240, 1.2250, 1.2260, 1.2270, 1.2280, 1.2300, 1.2310, 1.2320, 1.2330, 1.2340, 1.2350, 1.2370, 1.2390, 1.2410, 1.2430, 1.2450, 1.2460, 1.2470, 1.2480, 1.2490, 1.2500, 1.2510, 1.2520, 1.2530, 1.2540, 1.2550, 1.2570, 1.2590, 1.2610, 1.2630, 1.2650, 1.2670, 1.2700, 1.2740, 1.2780, 1.2840, 1.2950, 1.3220, 1.4600, 1.4970, 1.5110, 1.5190, 1.5240, 1.5280, 1.5310, 1.5330, 1.5350, 1.5370, 1.5390, 1.5410, 1.5430, 1.5450, 1.5460, 1.5470, 1.5480, 1.5490, 1.5510, 1.5520, 1.5530, 1.5540, 1.5560, 1.5580, 1.5600, 1.5620, 1.5640, 1.5660, 1.5670, 1.5680, 1.5690, 1.5710, 1.5720, 1.5730, 1.5740, 1.5760, 1.5780, 1.5800, 1.5810, 1.5820, 1.5830, 1.5840, 1.5860, 1.5880, 1.5900, 1.5920, 1.5930, 1.5940, 1.5950, 1.5970, 1.5980, 1.6000, 1.6010, 1.6020, 1.6030, 1.6040, 1.6060, 1.6080, 1.6100, 1.6120, 1.6140, 1.6160, 1.6190, 1.6230, 1.6280, 1.6350, 1.6470, 1.6730, 1.7340, 1.7620, 1.7740, 1.7810, 1.7860, 1.7900, 1.7930, 1.7950, 1.7970, 1.7990, 1.8010, 1.8030, 1.8050, 1.8060, 1.8070, 1.8080, 1.8090, 1.8110, 1.8120, 1.8130, 1.8140, 1.8150, 1.8170, 1.8190, 1.8210, 1.8220, 1.8240, 1.8250, 1.8270, 1.8280, 1.8290, 1.8310, 1.8330, 1.8340, 1.8350, 1.8360, 1.8380, 1.8400, 1.8420, 1.8440, 1.8460, 1.8470, 1.8480, 1.8490, 1.8500, 1.8510, 1.8520, 1.8530, 1.8540, 1.8560, 1.8580, 1.8600, 1.8620, 1.8640, 1.8660, 1.8680, 1.8690, 1.8700, 1.8710, 1.8720, 1.8730, 1.8740, 1.8760, 1.8780, 1.8800, 1.8810, 1.8830, 1.8850, 1.8870, 1.8890, 1.8910, 1.8940, 1.8980, 1.9040, 1.9120, 1.9280, 1.9800, 2.0440, 2.0600, 2.0680, 2.0730, 2.0770, 2.0800, 2.0820, 2.0840, 2.0860, 2.0880, 2.0890, 2.0910, 2.0930, 2.0950, 2.0960, 2.0970, 2.0980, 2.0990, 2.1000, 2.1010, 2.1030, 2.1050, 2.1070, 2.1090, 2.1110, 2.1130, 2.1150, 2.1170, 2.1180, 2.1190, 2.1200, 2.1210, 2.1220, 2.1230, 2.1240, 2.1260, 2.1280, 2.1300, 2.1310, 2.1320, 2.1340, 2.1360, 2.1380, 2.1400, 2.1430, 2.1470, 2.1520, 2.1600, 2.1770, 4.0000, ]
        avgs = [ 0.0012, 0.0031, 0.0045, 0.0055, 0.0065, 0.0075, 0.0085, 0.0098, 0.0120, 0.0140, 0.0155, 0.0165, 0.0175, 0.0185, 0.0195, 0.0210, 0.0230, 0.0245, 0.0255, 0.0265, 0.0275, 0.0285, 0.0295, 0.0305, 0.0315, 0.0325, 0.0335, 0.0345, 0.0355, 0.0370, 0.0390, 0.0405, 0.0415, 0.0425, 0.0435, 0.0445, 0.0455, 0.0470, 0.0490, 0.0505, 0.0515, 0.0525, 0.0535, 0.0550, 0.0570, 0.0590, 0.0605, 0.0615, 0.0625, 0.0635, 0.0650, 0.0670, 0.0690, 0.0705, 0.0715, 0.0725, 0.0735, 0.0750, 0.0770, 0.0790, 0.0805, 0.0815, 0.0825, 0.0835, 0.0850, 0.0870, 0.0890, 0.0905, 0.0915, 0.0925, 0.0935, 0.0950, 0.0970, 0.0990, 0.1005, 0.1015, 0.1025, 0.1035, 0.1045, 0.1055, 0.1070, 0.1090, 0.1105, 0.1115, 0.1125, 0.1135, 0.1150, 0.1170, 0.1190, 0.1205, 0.1215, 0.1225, 0.1235, 0.1250, 0.1270, 0.1290, 0.1305, 0.1315, 0.1325, 0.1335, 0.1350, 0.1370, 0.1390, 0.1405, 0.1415, 0.1425, 0.1435, 0.1450, 0.1470, 0.1490, 0.1505, 0.1515, 0.1525, 0.1535, 0.1550, 0.1570, 0.1590, 0.1605, 0.1615, 0.1630, 0.1650, 0.1670, 0.1690, 0.1705, 0.1715, 0.1725, 0.1735, 0.1745, 0.1755, 0.1770, 0.1790, 0.1805, 0.1815, 0.1825, 0.1835, 0.1850, 0.1870, 0.1890, 0.1905, 0.1915, 0.1925, 0.1935, 0.1950, 0.1970, 0.1990, 0.2005, 0.2015, 0.2025, 0.2040, 0.2055, 0.2070, 0.2090, 0.2105, 0.2115, 0.2125, 0.2140, 0.2155, 0.2170, 0.2190, 0.2205, 0.2215, 0.2225, 0.2235, 0.2250, 0.2270, 0.2290, 0.2305, 0.2315, 0.2325, 0.2335, 0.2350, 0.2370, 0.2390, 0.2405, 0.2415, 0.2425, 0.2435, 0.2445, 0.2455, 0.2470, 0.2490, 0.2505, 0.2515, 0.2525, 0.2535, 0.2550, 0.2570, 0.2590, 0.2605, 0.2615, 0.2625, 0.2635, 0.2650, 0.2670, 0.2690, 0.2710, 0.2725, 0.2735, 0.2750, 0.2770, 0.2790, 0.2805, 0.2815, 0.2825, 0.2835, 0.2845, 0.2860, 0.2880, 0.2900, 0.2920, 0.2940, 0.2955, 0.2965, 0.2975, 0.2990, 0.3005, 0.3015, 0.3030, 0.3045, 0.3055, 0.3070, 0.3090, 0.3110, 0.3130, 0.3150, 0.3165, 0.3180, 0.3195, 0.3205, 0.3215, 0.3230, 0.3250, 0.3270, 0.3290, 0.3305, 0.3315, 0.3325, 0.3335, 0.3350, 0.3370, 0.3390, 0.3410, 0.3430, 0.3450, 0.3470, 0.3485, 0.3495, 0.3505, 0.3520, 0.3535, 0.3545, 0.3555, 0.3565, 0.3575, 0.3590, 0.3605, 0.3620, 0.3635, 0.3650, 0.3670, 0.3690, 0.3705, 0.3715, 0.3725, 0.3740, 0.3755, 0.3770, 0.3790, 0.3810, 0.3825, 0.3840, 0.3860, 0.3880, 0.3900, 0.3920, 0.3935, 0.3950, 0.3965, 0.3975, 0.3990, 0.4010, 0.4030, 0.4045, 0.4055, 0.4070, 0.4090, 0.4110, 0.4130, 0.4145, 0.4155, 0.4165, 0.4175, 0.4185, 0.4195, 0.4205, 0.4215, 0.4225, 0.4235, 0.4250, 0.4270, 0.4290, 0.4305, 0.4315, 0.4325, 0.4335, 0.4350, 0.4370, 0.4390, 0.4405, 0.4415, 0.4425, 0.4440, 0.4455, 0.4470, 0.4490, 0.4505, 0.4515, 0.4525, 0.4535, 0.4550, 0.4570, 0.4590, 0.4610, 0.4630, 0.4650, 0.4665, 0.4675, 0.4685, 0.4695, 0.4705, 0.4715, 0.4725, 0.4735, 0.4750, 0.4770, 0.4790, 0.4805, 0.4820, 0.4840, 0.4860, 0.4875, 0.4885, 0.4900, 0.4920, 0.4935, 0.4945, 0.4955, 0.4965, 0.4980, 0.5000, 0.5015, 0.5030, 0.5050, 0.5070, 0.5085, 0.5095, 0.5110, 0.5130, 0.5145, 0.5155, 0.5165, 0.5175, 0.5185, 0.5195, 0.5210, 0.5230, 0.5245, 0.5255, 0.5270, 0.5290, 0.5310, 0.5330, 0.5350, 0.5365, 0.5375, 0.5385, 0.5400, 0.5420, 0.5440, 0.5455, 0.5465, 0.5475, 0.5485, 0.5500, 0.5520, 0.5540, 0.5555, 0.5565, 0.5575, 0.5585, 0.5595, 0.5605, 0.5615, 0.5625, 0.5635, 0.5650, 0.5670, 0.5690, 0.5710, 0.5730, 0.5750, 0.5765, 0.5775, 0.5785, 0.5795, 0.5805, 0.5815, 0.5825, 0.5835, 0.5850, 0.5870, 0.5890, 0.5905, 0.5915, 0.5925, 0.5935, 0.5950, 0.5970, 0.5990, 0.6005, 0.6015, 0.6025, 0.6035, 0.6045, 0.6055, 0.6070, 0.6090, 0.6105, 0.6115, 0.6125, 0.6135, 0.6145, 0.6155, 0.6170, 0.6190, 0.6205, 0.6215, 0.6225, 0.6235, 0.6250, 0.6270, 0.6290, 0.6310, 0.6330, 0.6350, 0.6365, 0.6375, 0.6385, 0.6395, 0.6405, 0.6415, 0.6425, 0.6435, 0.6450, 0.6470, 0.6490, 0.6510, 0.6530, 0.6550, 0.6565, 0.6575, 0.6585, 0.6595, 0.6610, 0.6625, 0.6635, 0.6650, 0.6665, 0.6680, 0.6695, 0.6705, 0.6715, 0.6730, 0.6750, 0.6770, 0.6790, 0.6805, 0.6820, 0.6840, 0.6860, 0.6875, 0.6885, 0.6895, 0.6905, 0.6915, 0.6925, 0.6935, 0.6950, 0.6970, 0.6990, 0.7005, 0.7015, 0.7025, 0.7035, 0.7045, 0.7060, 0.7080, 0.7100, 0.7124, 0.7155, 0.7190, 0.7233, 0.7288, 0.7354, 0.7439, 0.7534, 0.7620, 0.7691, 0.7746, 0.7791, 0.7826, 0.7855, 0.7880, 0.7900, 0.7920, 0.7940, 0.7960, 0.7975, 0.7985, 0.7995, 0.8010, 0.8031, 0.8050, 0.8065, 0.8075, 0.8085, 0.8095, 0.8110, 0.8130, 0.8145, 0.8155, 0.8165, 0.8175, 0.8185, 0.8195, 0.8205, 0.8215, 0.8230, 0.8250, 0.8270, 0.8285, 0.8295, 0.8310, 0.8325, 0.8335, 0.8345, 0.8355, 0.8365, 0.8375, 0.8385, 0.8395, 0.8405, 0.8415, 0.8425, 0.8440, 0.8460, 0.8475, 0.8490, 0.8505, 0.8515, 0.8530, 0.8545, 0.8555, 0.8570, 0.8590, 0.8605, 0.8615, 0.8625, 0.8640, 0.8660, 0.8680, 0.8695, 0.8705, 0.8715, 0.8725, 0.8735, 0.8750, 0.8770, 0.8790, 0.8805, 0.8815, 0.8825, 0.8840, 0.8860, 0.8880, 0.8900, 0.8920, 0.8940, 0.8964, 0.8995, 0.9025, 0.9059, 0.9100, 0.9140, 0.9180, 0.9215, 0.9245, 0.9275, 0.9300, 0.9320, 0.9340, 0.9360, 0.9375, 0.9385, 0.9398, 0.9420, 0.9440, 0.9455, 0.9465, 0.9475, 0.9485, 0.9495, 0.9505, 0.9519, 0.9535, 0.9550, 0.9570, 0.9590, 0.9610, 0.9630, 0.9650, 0.9665, 0.9675, 0.9685, 0.9695, 0.9705, 0.9715, 0.9725, 0.9735, 0.9750, 0.9770, 0.9790, 0.9805, 0.9815, 0.9830, 0.9850, 0.9870, 0.9890, 0.9914, 0.9945, 0.9980, 1.0019, 1.0059, 1.0101, 1.0141, 1.0176, 1.0205, 1.0230, 1.0250, 1.0270, 1.0290, 1.0310, 1.0330, 1.0350, 1.0365, 1.0375, 1.0385, 1.0395, 1.0405, 1.0415, 1.0425, 1.0440, 1.0460, 1.0480, 1.0501, 1.0520, 1.0540, 1.0555, 1.0565, 1.0575, 1.0585, 1.0599, 1.0615, 1.0625, 1.0635, 1.0645, 1.0655, 1.0670, 1.0690, 1.0705, 1.0715, 1.0725, 1.0735, 1.0745, 1.0760, 1.0780, 1.0800, 1.0825, 1.0855, 1.0890, 1.0933, 1.0992, 1.1071, 1.1165, 1.1247, 1.1311, 1.1361, 1.1395, 1.1425, 1.1450, 1.1470, 1.1490, 1.1510, 1.1530, 1.1550, 1.1565, 1.1575, 1.1585, 1.1599, 1.1615, 1.1625, 1.1635, 1.1645, 1.1655, 1.1670, 1.1690, 1.1710, 1.1725, 1.1740, 1.1760, 1.1775, 1.1785, 1.1799, 1.1820, 1.1835, 1.1845, 1.1855, 1.1865, 1.1875, 1.1890, 1.1905, 1.1915, 1.1925, 1.1935, 1.1950, 1.1970, 1.1990, 1.2005, 1.2020, 1.2040, 1.2060, 1.2080, 1.2099, 1.2120, 1.2140, 1.2155, 1.2165, 1.2175, 1.2185, 1.2198, 1.2220, 1.2235, 1.2245, 1.2255, 1.2265, 1.2275, 1.2290, 1.2305, 1.2315, 1.2325, 1.2335, 1.2345, 1.2360, 1.2380, 1.2399, 1.2420, 1.2440, 1.2455, 1.2465, 1.2475, 1.2485, 1.2495, 1.2505, 1.2515, 1.2525, 1.2535, 1.2545, 1.2560, 1.2580, 1.2601, 1.2620, 1.2640, 1.2660, 1.2684, 1.2719, 1.2759, 1.2808, 1.2889, 1.3057, 1.3823, 1.4834, 1.5051, 1.5153, 1.5216, 1.5261, 1.5296, 1.5320, 1.5340, 1.5360, 1.5380, 1.5399, 1.5421, 1.5440, 1.5455, 1.5465, 1.5475, 1.5485, 1.5499, 1.5515, 1.5525, 1.5535, 1.5550, 1.5570, 1.5590, 1.5610, 1.5630, 1.5650, 1.5665, 1.5675, 1.5685, 1.5699, 1.5715, 1.5725, 1.5735, 1.5750, 1.5770, 1.5790, 1.5805, 1.5815, 1.5825, 1.5835, 1.5850, 1.5870, 1.5890, 1.5910, 1.5925, 1.5935, 1.5945, 1.5960, 1.5975, 1.5990, 1.6005, 1.6015, 1.6025, 1.6035, 1.6050, 1.6070, 1.6089, 1.6110, 1.6130, 1.6150, 1.6174, 1.6209, 1.6254, 1.6314, 1.6403, 1.6581, 1.7017, 1.7508, 1.7684, 1.7779, 1.7836, 1.7881, 1.7916, 1.7940, 1.7960, 1.7980, 1.7999, 1.8020, 1.8040, 1.8055, 1.8065, 1.8075, 1.8085, 1.8099, 1.8115, 1.8125, 1.8135, 1.8145, 1.8160, 1.8180, 1.8200, 1.8215, 1.8230, 1.8245, 1.8260, 1.8275, 1.8285, 1.8299, 1.8320, 1.8335, 1.8345, 1.8355, 1.8370, 1.8390, 1.8410, 1.8430, 1.8450, 1.8465, 1.8475, 1.8485, 1.8495, 1.8505, 1.8515, 1.8525, 1.8535, 1.8550, 1.8570, 1.8590, 1.8610, 1.8630, 1.8650, 1.8670, 1.8685, 1.8695, 1.8705, 1.8715, 1.8725, 1.8735, 1.8750, 1.8770, 1.8790, 1.8805, 1.8820, 1.8840, 1.8860, 1.8880, 1.8900, 1.8924, 1.8959, 1.9009, 1.9078, 1.9188, 1.9467, 2.0189, 2.0532, 2.0645, 2.0707, 2.0751, 2.0785, 2.0810, 2.0830, 2.0851, 2.0870, 2.0885, 2.0898, 2.0920, 2.0940, 2.0955, 2.0965, 2.0975, 2.0985, 2.0995, 2.1005, 2.1020, 2.1040, 2.1060, 2.1080, 2.1100, 2.1120, 2.1140, 2.1160, 2.1175, 2.1185, 2.1195, 2.1205, 2.1215, 2.1225, 2.1235, 2.1250, 2.1270, 2.1290, 2.1305, 2.1315, 2.1330, 2.1350, 2.1370, 2.1390, 2.1415, 2.1450, 2.1493, 2.1557, 2.1668, 2.2339, ]
    elif 'ntk4' in out_name:
        bins = [ -0.0010, 0.0010, 0.0030, 0.0050, 0.0060, 0.0070, 0.0080, 0.0090, 0.0110, 0.0130, 0.0150, 0.0160, 0.0170, 0.0180, 0.0190, 0.0200, 0.0220, 0.0230, 0.0240, 0.0250, 0.0260, 0.0280, 0.0300, 0.0310, 0.0320, 0.0330, 0.0340, 0.0360, 0.0380, 0.0400, 0.0410, 0.0420, 0.0430, 0.0440, 0.0460, 0.0480, 0.0500, 0.0510, 0.0520, 0.0530, 0.0540, 0.0560, 0.0580, 0.0600, 0.0610, 0.0620, 0.0630, 0.0640, 0.0660, 0.0680, 0.0700, 0.0710, 0.0720, 0.0730, 0.0740, 0.0760, 0.0780, 0.0800, 0.0810, 0.0820, 0.0830, 0.0840, 0.0860, 0.0880, 0.0900, 0.0910, 0.0920, 0.0930, 0.0940, 0.0960, 0.0980, 0.1000, 0.1010, 0.1020, 0.1030, 0.1040, 0.1060, 0.1080, 0.1100, 0.1110, 0.1120, 0.1130, 0.1140, 0.1160, 0.1180, 0.1200, 0.1210, 0.1220, 0.1240, 0.1250, 0.1260, 0.1280, 0.1300, 0.1310, 0.1320, 0.1330, 0.1340, 0.1360, 0.1380, 0.1400, 0.1410, 0.1420, 0.1430, 0.1440, 0.1460, 0.1480, 0.1500, 0.1510, 0.1520, 0.1530, 0.1540, 0.1560, 0.1580, 0.1600, 0.1610, 0.1620, 0.1630, 0.1640, 0.1650, 0.1660, 0.1680, 0.1700, 0.1710, 0.1720, 0.1730, 0.1740, 0.1750, 0.1760, 0.1780, 0.1800, 0.1820, 0.1840, 0.1860, 0.1870, 0.1880, 0.1900, 0.1910, 0.1920, 0.1930, 0.1940, 0.1960, 0.1980, 0.2000, 0.2020, 0.2040, 0.2050, 0.2060, 0.2070, 0.2090, 0.2100, 0.2120, 0.2140, 0.2160, 0.2170, 0.2180, 0.2190, 0.2210, 0.2230, 0.2240, 0.2250, 0.2260, 0.2280, 0.2290, 0.2310, 0.2320, 0.2330, 0.2340, 0.2360, 0.2380, 0.2400, 0.2410, 0.2430, 0.2450, 0.2460, 0.2470, 0.2490, 0.2510, 0.2530, 0.2540, 0.2550, 0.2560, 0.2580, 0.2590, 0.2600, 0.2610, 0.2630, 0.2650, 0.2670, 0.2680, 0.2690, 0.2700, 0.2710, 0.2720, 0.2730, 0.2750, 0.2770, 0.2790, 0.2800, 0.2810, 0.2820, 0.2830, 0.2840, 0.2860, 0.2880, 0.2900, 0.2910, 0.2930, 0.2950, 0.2970, 0.2990, 0.3010, 0.3030, 0.3050, 0.3070, 0.3110, 0.3170, 0.3320, 0.5220, 0.5360, 0.5410, 0.5440, 0.5460, 0.5490, 0.5520, 0.5560, 0.5600, 0.5630, 0.5660, 0.5690, 0.5720, 0.5770, 0.5900, 0.8140, 0.8240, 0.8290, 0.8320, 0.8340, 0.8370, 0.8410, 0.8440, 0.8470, 0.8500, 0.8530, 0.8560, 0.8600, 0.8660, 0.8840, 1.3500, 1.3590, 1.3630, 1.3660, 1.3680, 1.3710, 1.3740, 1.3780, 1.3820, 1.3850, 1.3880, 1.3910, 1.3950, 1.4020, 4.0000, ]
        avgs = [ 0.0005, 0.0021, 0.0040, 0.0055, 0.0065, 0.0075, 0.0085, 0.0098, 0.0120, 0.0140, 0.0155, 0.0165, 0.0175, 0.0185, 0.0195, 0.0210, 0.0225, 0.0235, 0.0245, 0.0255, 0.0270, 0.0290, 0.0305, 0.0315, 0.0325, 0.0335, 0.0350, 0.0370, 0.0390, 0.0405, 0.0415, 0.0425, 0.0435, 0.0450, 0.0470, 0.0490, 0.0505, 0.0515, 0.0525, 0.0535, 0.0550, 0.0570, 0.0590, 0.0605, 0.0615, 0.0625, 0.0635, 0.0650, 0.0670, 0.0690, 0.0705, 0.0715, 0.0725, 0.0735, 0.0750, 0.0770, 0.0790, 0.0805, 0.0815, 0.0825, 0.0835, 0.0850, 0.0870, 0.0890, 0.0905, 0.0915, 0.0925, 0.0935, 0.0950, 0.0970, 0.0990, 0.1005, 0.1015, 0.1025, 0.1035, 0.1050, 0.1070, 0.1090, 0.1105, 0.1115, 0.1125, 0.1135, 0.1150, 0.1170, 0.1190, 0.1205, 0.1215, 0.1230, 0.1245, 0.1255, 0.1270, 0.1290, 0.1305, 0.1315, 0.1325, 0.1335, 0.1350, 0.1370, 0.1390, 0.1405, 0.1415, 0.1425, 0.1435, 0.1450, 0.1470, 0.1490, 0.1505, 0.1515, 0.1525, 0.1535, 0.1550, 0.1570, 0.1590, 0.1605, 0.1615, 0.1625, 0.1635, 0.1645, 0.1655, 0.1670, 0.1690, 0.1705, 0.1715, 0.1725, 0.1735, 0.1745, 0.1755, 0.1770, 0.1790, 0.1810, 0.1830, 0.1850, 0.1865, 0.1875, 0.1890, 0.1905, 0.1915, 0.1925, 0.1935, 0.1950, 0.1970, 0.1990, 0.2010, 0.2030, 0.2045, 0.2055, 0.2065, 0.2080, 0.2095, 0.2110, 0.2130, 0.2150, 0.2165, 0.2175, 0.2185, 0.2200, 0.2220, 0.2235, 0.2245, 0.2255, 0.2270, 0.2285, 0.2300, 0.2315, 0.2325, 0.2335, 0.2350, 0.2370, 0.2390, 0.2405, 0.2420, 0.2440, 0.2455, 0.2465, 0.2480, 0.2500, 0.2520, 0.2535, 0.2545, 0.2555, 0.2570, 0.2585, 0.2595, 0.2605, 0.2620, 0.2640, 0.2660, 0.2675, 0.2685, 0.2695, 0.2705, 0.2715, 0.2725, 0.2740, 0.2760, 0.2780, 0.2795, 0.2805, 0.2815, 0.2825, 0.2835, 0.2850, 0.2870, 0.2890, 0.2905, 0.2920, 0.2940, 0.2960, 0.2980, 0.3000, 0.3020, 0.3040, 0.3060, 0.3088, 0.3137, 0.3227, 0.4161, 0.5307, 0.5387, 0.5426, 0.5451, 0.5474, 0.5505, 0.5540, 0.5580, 0.5615, 0.5646, 0.5674, 0.5704, 0.5742, 0.5822, 0.7159, 0.8198, 0.8267, 0.8306, 0.8330, 0.8354, 0.8390, 0.8425, 0.8455, 0.8485, 0.8516, 0.8545, 0.8578, 0.8626, 0.8723, 1.2106, 1.3552, 1.3611, 1.3646, 1.3671, 1.3694, 1.3725, 1.3759, 1.3801, 1.3836, 1.3866, 1.3894, 1.3929, 1.3979, 1.4166, ]
    elif 'ntk5' in out_name:
        bins = [ 0.0000, 0.0020, 0.0040, 0.0050, 0.0060, 0.0070, 0.0080, 0.0090, 0.0100, 0.0120, 0.0140, 0.0160, 0.0170, 0.0180, 0.0190, 0.0200, 0.0210, 0.0220, 0.0230, 0.0240, 0.0260, 0.0280, 0.0300, 0.0310, 0.0320, 0.0330, 0.0340, 0.0360, 0.0380, 0.0400, 0.0410, 0.0420, 0.0430, 0.0440, 0.0460, 0.0480, 0.0500, 0.0510, 0.0520, 0.0530, 0.0540, 0.0560, 0.0580, 0.0600, 0.0610, 0.0620, 0.0630, 0.0640, 0.0660, 0.0680, 0.0700, 0.0710, 0.0720, 0.0730, 0.0740, 0.0760, 0.0780, 0.0800, 0.0820, 0.0840, 0.0870, 0.0900, 0.0930, 0.0960, 0.1020, 0.1120, 0.1290, 0.1490, 0.1640, 0.1850, 0.2080, 0.2230, 0.3980, 0.4290, 0.4430, 4.0000, ]
        avgs = [ 0.0012, 0.0031, 0.0045, 0.0055, 0.0065, 0.0075, 0.0085, 0.0095, 0.0110, 0.0130, 0.0150, 0.0165, 0.0175, 0.0185, 0.0195, 0.0205, 0.0215, 0.0225, 0.0235, 0.0250, 0.0270, 0.0290, 0.0305, 0.0315, 0.0325, 0.0335, 0.0350, 0.0370, 0.0390, 0.0405, 0.0415, 0.0425, 0.0435, 0.0450, 0.0470, 0.0490, 0.0505, 0.0515, 0.0525, 0.0535, 0.0550, 0.0570, 0.0590, 0.0605, 0.0615, 0.0625, 0.0635, 0.0650, 0.0670, 0.0690, 0.0705, 0.0715, 0.0725, 0.0735, 0.0750, 0.0770, 0.0790, 0.0810, 0.0830, 0.0854, 0.0884, 0.0916, 0.0944, 0.0988, 0.1069, 0.1175, 0.1424, 0.1566, 0.1700, 0.2014, 0.2155, 0.2327, 0.4223, 0.4359, 0.4508, ]
    else:
        raise ValueError('ntk not in name? %s' % out_name)
    assert len(bins) == len(avgs)+1
    return array('d', bins), avgs

if __name__ == '__main__':
    assert 'ntk3' in sys.argv[1]
    print "    if 'ntk3' in out_name:"
    find_binning(sys.argv[1])
    print "    elif 'ntk4' in out_name:"
    find_binning(sys.argv[1].replace('ntk3', 'ntk4'))
    print "    elif 'ntk5' in out_name:"
    find_binning(sys.argv[1].replace('ntk3', 'ntk5'))
